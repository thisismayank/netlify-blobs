{"ast":null,"code":"// src/CacheDemo.js\nimport React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CacheDemo(){const[data,setData]=useState([]);const[loading,setLoading]=useState(false);const[cacheStatus,setCacheStatus]=useState(\"\");const fetchData=async cacheControl=>{setLoading(true);try{const response=await axios.get(\"/api/data\",{headers:{\"Netlify-CDN-Cache-Control\":cacheControl}});setData(response.data.slice(0,5));// Show only the first 5 items for brevity\nsetCacheStatus(response.headers[\"cache-status\"]||\"No cache-status header\");}catch(error){console.error(\"Error fetching data:\",error);setData([]);}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchData(\"public, max-age=60\"),children:\"Fetch with Cache\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchData(\"no-cache\"),children:\"Fetch without Cache\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Cache Status: \",cacheStatus]}),/*#__PURE__*/_jsx(\"ul\",{children:data.map((item,index)=>/*#__PURE__*/_jsx(\"li\",{children:item.title},index))})]})]});}export default CacheDemo;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","CacheDemo","data","setData","loading","setLoading","cacheStatus","setCacheStatus","fetchData","cacheControl","response","get","headers","slice","error","console","children","onClick","map","item","index","title"],"sources":["/Users/mayanka/Workspace/netlify-image-cdn/src/Components/cachecontrol.component.js"],"sourcesContent":["// src/CacheDemo.js\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\n\nfunction CacheDemo() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [cacheStatus, setCacheStatus] = useState(\"\");\n\n  const fetchData = async (cacheControl) => {\n    setLoading(true);\n    try {\n      const response = await axios.get(\"/api/data\", {\n        headers: {\n          \"Netlify-CDN-Cache-Control\": cacheControl,\n        },\n      });\n      setData(response.data.slice(0, 5)); // Show only the first 5 items for brevity\n      setCacheStatus(\n        response.headers[\"cache-status\"] || \"No cache-status header\"\n      );\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n      setData([]);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div>\n      <button onClick={() => fetchData(\"public, max-age=60\")}>\n        Fetch with Cache\n      </button>\n      <button onClick={() => fetchData(\"no-cache\")}>Fetch without Cache</button>\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        <div>\n          <h3>Cache Status: {cacheStatus}</h3>\n          <ul>\n            {data.map((item, index) => (\n              <li key={index}>{item.title}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default CacheDemo;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAa,SAAS,CAAG,KAAO,CAAAC,YAAY,EAAK,CACxCJ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAC,WAAW,CAAE,CAC5CC,OAAO,CAAE,CACP,2BAA2B,CAAEH,YAC/B,CACF,CAAC,CAAC,CACFN,OAAO,CAACO,QAAQ,CAACR,IAAI,CAACW,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAE;AACpCN,cAAc,CACZG,QAAQ,CAACE,OAAO,CAAC,cAAc,CAAC,EAAI,wBACtC,CAAC,CACH,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CX,OAAO,CAAC,EAAE,CAAC,CACb,CACAE,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,mBACEL,KAAA,QAAAgB,QAAA,eACElB,IAAA,WAAQmB,OAAO,CAAEA,CAAA,GAAMT,SAAS,CAAC,oBAAoB,CAAE,CAAAQ,QAAA,CAAC,kBAExD,CAAQ,CAAC,cACTlB,IAAA,WAAQmB,OAAO,CAAEA,CAAA,GAAMT,SAAS,CAAC,UAAU,CAAE,CAAAQ,QAAA,CAAC,qBAAmB,CAAQ,CAAC,CACzEZ,OAAO,cACNN,IAAA,MAAAkB,QAAA,CAAG,YAAU,CAAG,CAAC,cAEjBhB,KAAA,QAAAgB,QAAA,eACEhB,KAAA,OAAAgB,QAAA,EAAI,gBAAc,CAACV,WAAW,EAAK,CAAC,cACpCR,IAAA,OAAAkB,QAAA,CACGd,IAAI,CAACgB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACpBtB,IAAA,OAAAkB,QAAA,CAAiBG,IAAI,CAACE,KAAK,EAAlBD,KAAuB,CACjC,CAAC,CACA,CAAC,EACF,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAnB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}